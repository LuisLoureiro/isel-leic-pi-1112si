@using System.Collections
@model List<IEnumerable>

@{
    ViewBag.Title = "Pesquisa";
}

<h2>Resultados da pesquisa por '@ViewBag.SearchString'</h2>

@if(Model != null)
{
    var fucs = Model[0] as IEnumerable<CurricularUnit>;

    if (fucs != null && fucs.Count() != 0)
    {
        <h4>Fichas de Unidades Curriculares:</h4>
        <table class="zebra-striped">
            <thead>
                <tr>
                    <th></th>
                    <th>Acrónimo</th>
                    <th>Nome</th>
                    <th>Obrigatória</th>
                    <th>Ects</th>
                </tr>
            </thead>
            <tbody id="paginated-content">
                @{Html.RenderPartial("CurricularUnitsTableContent", fucs);}
            </tbody>
        </table>
    }

    if (Model.Count > 1)
    {
        var props = Model[1] as IEnumerable<Proposal>;
        if (props != null && props.Count() != 0)
        {
            <h4>Propostas de Unidades Curriculares:</h4>
            <table class="zebra-striped">
                <thead>
                    <tr>
                        <th></th>
                        <th>Id</th>
                        <th>Acrónimo</th>
                        <th>Nome</th>
                        <th>Obrigatória</th>
                        <th>Ects</th>
                        <th>Criador</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody id="paginated-content">
                    @{Html.RenderPartial("ProposalsTableContent", props);}
                </tbody>
            </table>
        }
    }
}
else
{
    <h3 class="alert-message warning">Não foram encontrados resultados para a sua pesquisa.</h3>
}
